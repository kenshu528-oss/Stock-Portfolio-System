# Stock Portfolio System 改善路線圖

**制定日期**：2026-01-16  
**當前版本**：v1.0.2.0165  
**目標版本**：v1.0.3.0000

---

## 🗺️ 改善路線圖總覽

```
現在 (v1.0.2.0165)
    ↓
Phase 1: UI/UX 優化 (2-3 天)
    ↓
Phase 2: 技術債務修復 (1-2 天)
    ↓
Phase 3: 測試與文檔 (1-2 天)
    ↓
Phase 4: 性能優化 (1-2 週)
    ↓
目標 (v1.0.3.0000)
```

---

## 📅 Phase 1: UI/UX 優化（最高優先級）

**時間**：2-3 天  
**版本**：v1.0.2.0166 - v1.0.2.0175  
**目標**：提升專業感和可讀性

### Day 1：數據對齊與格式化 🔴

**工時**：2-3 小時  
**版本**：v1.0.2.0166

**任務清單**：
- [ ] 更新 `src/utils/format.ts`（括號負數）
- [ ] 修改 `StockRow.tsx`（數值右對齊 + 等寬字體）
- [ ] 修改 `PortfolioStats.tsx`（視覺層級）
- [ ] 測試桌面版和手機版
- [ ] 執行 `npm run check:all`

**預期效果**：
- 所有數值右對齊 ✅
- 千分位逗號 100% 覆蓋 ✅
- 負數使用括號表示 ✅

---

### Day 2：視覺與操作優化 🟡

**工時**：2-3 小時  
**版本**：v1.0.2.0167 - v1.0.2.0170

#### 上午：視覺層級優化（1-2 小時）

**任務清單**：
- [ ] 強化標籤與數值對比
- [ ] 損益卡片特殊樣式
- [ ] 遮罩狀態提示
- [ ] 測試隱私模式

**預期效果**：
- 標籤與數值層級明確 ✅
- 損益卡片視覺反饋強烈 ✅

#### 下午：輸入與操作優化（1 小時）

**任務清單**：
- [ ] 輸入框邊框強化
- [ ] 自動選取輸入內容
- [ ] 新增按鈕視覺強化
- [ ] 測試鍵盤導航

**預期效果**：
- 輸入框 focus 狀態明確 ✅
- 操作更流暢 ✅

---

### Day 3：表格與佈局優化 🟢

**工時**：2-3 小時  
**版本**：v1.0.2.0171 - v1.0.2.0175

#### 上午：表格細節優化（1-2 小時）

**任務清單**：
- [ ] 表格 hover 效果
- [ ] 增加行高與留白
- [ ] 除息資訊 Badge 樣式
- [ ] 測試長表格滾動

**預期效果**：
- 表格可讀性提升 ✅
- 視覺舒適度提升 ✅

#### 下午：整體佈局優化（1 小時）

**任務清單**：
- [ ] 帳戶標籤膠囊型背景
- [ ] 測試標籤切換動畫
- [ ] 確保響應式布局
- [ ] 最終測試

**預期效果**：
- 整體視覺統一 ✅
- 用戶體驗流暢 ✅

---

## 📅 Phase 2: 技術債務修復（中優先級）

**時間**：1-2 天  
**版本**：v1.0.2.0176 - v1.0.2.0180  
**目標**：修復檢查腳本問題

### Day 4：ESLint 與檢查腳本修復

**工時**：2-3 小時  
**版本**：v1.0.2.0176 - v1.0.2.0178

**任務清單**：
- [ ] 修復 ESLint 執行路徑問題
- [ ] 改進除權息檢查腳本（使用 AST 解析）
- [ ] 測試所有自動化檢查
- [ ] 更新檢查腳本文檔

**預期效果**：
- ESLint 正常執行 ✅
- 除權息檢查無誤報 ✅
- 檢查準確性 > 95% ✅

---

## 📅 Phase 3: 測試與文檔（中優先級）

**時間**：1-2 天  
**版本**：v1.0.2.0181 - v1.0.2.0190  
**目標**：提升代碼質量和文檔完整性

### Day 5：單元測試

**工時**：3-4 小時  
**版本**：v1.0.2.0181 - v1.0.2.0185

**任務清單**：
- [ ] 格式化工具測試（`format.ts`）
- [ ] 組件測試（`StockRow.tsx`, `PortfolioStats.tsx`）
- [ ] 整合測試（完整流程）
- [ ] 測試覆蓋率報告

**預期效果**：
- 測試覆蓋率 > 60% ✅
- 關鍵功能 100% 測試 ✅

---

### Day 6：文檔更新

**工時**：2-3 小時  
**版本**：v1.0.2.0186 - v1.0.2.0190

**任務清單**：
- [ ] 更新 README.md
- [ ] 更新 CHANGELOG
- [ ] 截圖對比（改善前後）
- [ ] 創建使用者指南

**預期效果**：
- 文檔完整性 100% ✅
- 用戶能快速上手 ✅

---

## 📅 Phase 4: 性能優化（低優先級）

**時間**：1-2 週  
**版本**：v1.0.2.0191 - v1.0.3.0000  
**目標**：提升系統性能和無障礙性

### Week 2：性能優化

**工時**：5-8 小時  
**版本**：v1.0.2.0191 - v1.0.2.0200

**任務清單**：
- [ ] 虛擬滾動（長列表）
- [ ] 圖片懶加載
- [ ] 代碼分割
- [ ] 快取優化
- [ ] Lighthouse 測試

**預期效果**：
- Lighthouse 性能評分 > 90 ✅
- 首次載入時間 < 2 秒 ✅

---

### Week 3：無障礙性優化

**工時**：3-5 小時  
**版本**：v1.0.2.0201 - v1.0.3.0000

**任務清單**：
- [ ] ARIA 標籤
- [ ] 鍵盤導航
- [ ] 螢幕閱讀器支援
- [ ] 顏色對比度檢查
- [ ] WAVE 工具測試

**預期效果**：
- WCAG 2.1 AA 級別 ✅
- 無障礙評分 > 90 ✅

---

## 📊 里程碑與成功指標

### Milestone 1: UI/UX 優化完成（Day 3）

**版本**：v1.0.2.0175  
**日期**：2026-01-18

**成功指標**：
- [x] 數值右對齊 100%
- [x] 千分位格式化 100%
- [x] 視覺層級明確
- [x] 操作流暢度提升
- [x] 用戶滿意度 +50%

---

### Milestone 2: 技術債務修復完成（Day 4）

**版本**：v1.0.2.0180  
**日期**：2026-01-19

**成功指標**：
- [x] ESLint 正常執行
- [x] 檢查腳本無誤報
- [x] 檢查準確性 > 95%

---

### Milestone 3: 測試與文檔完成（Day 6）

**版本**：v1.0.2.0190  
**日期**：2026-01-21

**成功指標**：
- [x] 測試覆蓋率 > 60%
- [x] 文檔完整性 100%
- [x] 用戶指南完成

---

### Milestone 4: 性能優化完成（Week 3）

**版本**：v1.0.3.0000  
**日期**：2026-01-31

**成功指標**：
- [x] Lighthouse 性能 > 90
- [x] 無障礙評分 > 90
- [x] 首次載入 < 2 秒

---

## 🎯 版本號規劃

### 當前版本：v1.0.2.0165

**格式**：`v{MAJOR}.{MINOR}.{RELEASE}.{PATCH}`

### 版本號分配

| Phase | 版本範圍 | 說明 |
|-------|---------|------|
| Phase 1 | v1.0.2.0166 - 0175 | UI/UX 優化（10 個版本） |
| Phase 2 | v1.0.2.0176 - 0180 | 技術債務修復（5 個版本） |
| Phase 3 | v1.0.2.0181 - 0190 | 測試與文檔（10 個版本） |
| Phase 4 | v1.0.2.0191 - 0200 | 性能優化（10 個版本） |
| Phase 4 | v1.0.2.0201 - 0210 | 無障礙性（10 個版本） |
| **目標** | **v1.0.3.0000** | **正式發布** |

### 版本號更新規則

**每次提交前**：
```bash
# 1. 更新三個檔案
# - package.json
# - src/constants/version.ts
# - src/constants/changelog.ts

# 2. 執行檢查
npm run check:version

# 3. 重新建置
npm run build
```

---

## 📈 進度追蹤

### 每日進度報告

**格式**：
```markdown
## 日期：2026-01-XX

### 完成的任務
- [x] 任務 1
- [x] 任務 2

### 遇到的問題
- 問題描述
- 解決方案

### 明天計畫
- [ ] 任務 3
- [ ] 任務 4

### 版本號
- 當前：v1.0.2.0XXX
- 提交：X 次
```

---

### 每週進度報告

**格式**：
```markdown
## Week X：2026-01-XX ~ 2026-01-XX

### 完成的 Phase
- [x] Phase X

### 成功指標達成情況
- 指標 1：✅ 達成
- 指標 2：⚠️ 部分達成
- 指標 3：❌ 未達成

### 下週計畫
- Phase X+1
```

---

## 🔄 風險管理

### 潛在風險

| 風險 | 影響 | 機率 | 應對策略 |
|------|------|------|----------|
| UI 改動破壞現有功能 | 高 | 中 | 每步驟測試，隨時回滾 |
| 時間超出預估 | 中 | 中 | 優先完成第一優先項目 |
| 用戶不適應新 UI | 低 | 低 | 提供切換選項 |
| 檢查腳本改進困難 | 低 | 中 | 手動驗證為備案 |

### 應對措施

**風險 1：UI 改動破壞現有功能**
- **預防**：每完成一個組件就測試
- **應對**：使用 Git 回滾到上一個版本
- **備案**：保留改善前的截圖和代碼

**風險 2：時間超出預估**
- **預防**：使用快速開始指南，複製貼上
- **應對**：優先完成第一優先項目
- **備案**：分階段完成，不強求一次完成

**風險 3：用戶不適應新 UI**
- **預防**：提供改善前後對比截圖
- **應對**：收集用戶反饋，微調
- **備案**：提供「經典模式」切換選項

---

## 💡 成功關鍵因素

### 1. 優先順序明確
- 先做 UI/UX 優化（投資報酬率最高）
- 技術債務可以慢慢修復

### 2. 小步快跑
- 每完成一個任務就測試
- 不要一次改太多

### 3. 遵循規範
- 使用 STEERING 規則
- 執行自動化檢查

### 4. 記錄變更
- 更新版本號
- 更新 CHANGELOG
- 截圖對比

### 5. 收集反饋
- 用戶反饋
- 性能數據
- 錯誤日誌

---

## 🎉 預期成果

### 完成 Phase 1 後（Day 3）

**專業感提升 200%**：
- 數值對齊整齊
- 千分位清楚
- 視覺層級明確

**用戶反饋**：
- "看起來更專業了！"
- "數字更容易比較了！"
- "操作更流暢了！"

---

### 完成所有 Phase 後（Week 3）

**代碼質量評分**：7.3/10 → 8.5/10  
**Lighthouse 性能**：? → > 90  
**無障礙評分**：? → > 90  
**用戶滿意度**：+100%

---

## 📞 需要幫助？

### 每個 Phase 都有詳細文檔

| Phase | 文檔 |
|-------|------|
| Phase 1 | [UI/UX 快速開始](UI_UX_QUICK_START.md) |
| Phase 1 | [UI/UX 詳細計畫](UI_UX_IMPROVEMENT_PLAN.md) |
| 所有 | [綜合改善總結](COMPREHENSIVE_IMPROVEMENT_SUMMARY.md) |

### 遇到問題時

1. **查看文檔**：每個 Phase 都有詳細指南
2. **執行檢查**：`npm run check:all`
3. **查看範例**：STEERING 規則中有範例

---

**制定日期**：2026-01-16  
**版本**：1.0.0  
**預估完成日期**：2026-01-31

**立即開始** → [UI/UX 快速開始指南](UI_UX_QUICK_START.md)

**記住：優先順序明確，小步快跑，遵循規範！**
