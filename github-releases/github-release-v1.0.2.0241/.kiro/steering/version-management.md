# ç‰ˆæœ¬ç®¡ç†è¦ç¯„ (Version Management)

> åˆä½µè‡ªï¼šversion-consistency.md, version-archival.md

## ğŸ¯ æ ¸å¿ƒåŸå‰‡

### ç‰ˆæœ¬è™Ÿä¸€è‡´æ€§
- âœ… **ä¸‰è™•å¿…é ˆåŒæ­¥**ï¼špackage.jsonã€version.tsã€changelog.ts
- âœ… **ä¿®æ”¹åŠŸèƒ½å¿…é ˆé€²ç‰ˆ**ï¼šä»»ä½•åŠŸèƒ½è®Šæ›´éƒ½è¦æ›´æ–°ç‰ˆæœ¬è™Ÿ
- âœ… **é‡æ–°å»ºç½®**ï¼šç‰ˆæœ¬è™Ÿæ›´æ–°å¾Œå¿…é ˆåŸ·è¡Œ npm run build

### ç‰ˆæœ¬æ­¸æª”
- âœ… **GitHub ä¸Šå‚³å‰å¿…é ˆæ­¸æª”**ï¼šå‰µå»ºå®Œæ•´çš„ç‰ˆæœ¬è³‡æ–™å¤¾
- âœ… **ä¿ç•™æ­·å²ç‰ˆæœ¬**ï¼šæ‰€æœ‰ç™¼å¸ƒç‰ˆæœ¬éƒ½è¦å®Œæ•´ä¿å­˜
- âœ… **å‘½åè¦å‰‡çµ±ä¸€**ï¼šgithub-release-v1.0.2.XXXX

---

## ğŸ“‚ ç‰ˆæœ¬è™Ÿå­˜åœ¨çš„ä½ç½®

### å¿…é ˆåŒæ­¥æ›´æ–°çš„ä¸‰å€‹æª”æ¡ˆ

```
package.json                    - "version": "1.0.2.XXXX"
src/constants/version.ts        - PATCH: XXX
src/constants/changelog.ts      - version: '1.0.2.XXXX'
```

### ç‰ˆæœ¬è™Ÿæ ¼å¼è¦ç¯„
```
Stock-Portfolio-System å€‰åº«: v1.0.2.XXXX
å…¶ä»–å€‰åº«: v1.2.2.XXXX (çµ•å°ç¦æ­¢æ··ç”¨)
```

---

## ğŸ”„ ç‰ˆæœ¬æ›´æ–°æµç¨‹

### æ¯æ¬¡åŠŸèƒ½ä¿®æ”¹å¿…é ˆåŸ·è¡Œ

```bash
# 1. æ›´æ–° package.json
"version": "1.0.2.0147"

# 2. æ›´æ–° src/constants/version.ts
export const PATCH = 147;

# 3. æ›´æ–° src/constants/changelog.ts
{
  version: '1.0.2.0147',
  date: '2026-01-15',
  changes: [
    'åŠŸèƒ½æè¿°'
  ]
}

# 4. é©—è­‰ç‰ˆæœ¬è™Ÿä¸€è‡´
npm run check:version

# 5. é‡æ–°å»ºç½®
npm run build
```

---

## ğŸ“‹ ç‰ˆæœ¬æ›´æ–°æª¢æŸ¥æ¸…å–®

### å¿…é ˆç¢ºèªçš„é …ç›®
- [ ] package.json ç‰ˆæœ¬è™Ÿå·²æ›´æ–°
- [ ] version.ts PATCH å€¼å·²æ›´æ–°
- [ ] changelog.ts å·²æ·»åŠ æ–°ç‰ˆæœ¬è¨˜éŒ„
- [ ] æ‰€æœ‰ç‰ˆæœ¬è™Ÿæ ¼å¼æ­£ç¢ºï¼ˆv1.0.2.XXXXï¼‰
- [ ] åŸ·è¡Œ `npm run check:version` é€šé
- [ ] åŸ·è¡Œ `npm run build` æˆåŠŸ

---

## ğŸ—‚ï¸ ç‰ˆæœ¬æ­¸æª”è¦ç¯„

### æ¨™æº–æ­¸æª”ä½ç½®
```
github-releases/
â”œâ”€â”€ github-release-v1.0.2.0001/
â”œâ”€â”€ github-release-v1.0.2.0011/
â”œâ”€â”€ github-release-v1.0.2.0012/
â””â”€â”€ github-release-v1.0.2.XXXX/
```

### ç‰ˆæœ¬è³‡æ–™å¤¾å‘½åè¦å‰‡
```
æ ¼å¼: github-release-v{MAJOR}.{MINOR}.{PATCH}.{BUILD}
ç¯„ä¾‹: github-release-v1.0.2.0147
```

### GitHub ä¸Šå‚³å‰å¿…é ˆåŸ·è¡Œ

```bash
# 1. æª¢æŸ¥ç•¶å‰ç‰ˆæœ¬è™Ÿ
npm run check:version

# 2. å‰µå»ºç‰ˆæœ¬è³‡æ–™å¤¾
mkdir github-releases/github-release-v1.0.2.XXXX

# 3. è¤‡è£½å°ˆæ¡ˆæª”æ¡ˆï¼ˆæ’é™¤ä¸éœ€è¦çš„ç›®éŒ„ï¼‰
robocopy . github-releases/github-release-v1.0.2.XXXX /E /XD node_modules dist .git export github-releases

# 4. é©—è­‰æ­¸æª”å®Œæ•´æ€§
dir github-releases/github-release-v1.0.2.XXXX

# 5. æ‰èƒ½åŸ·è¡Œ GitHub ä¸Šå‚³
```

### å¿…é ˆæ­¸æª”çš„æª”æ¡ˆ
- âœ… æ‰€æœ‰æºä»£ç¢¼ (`src/` ç›®éŒ„)
- âœ… é…ç½®æª”æ¡ˆ (`package.json`, `vite.config.ts` ç­‰)
- âœ… å¾Œç«¯ä»£ç¢¼ (`backend/` ç›®éŒ„)
- âœ… æ–‡æª”æª”æ¡ˆ (`README.md`, `LICENSE` ç­‰)
- âœ… å»ºç½®é…ç½® (`tsconfig.json`, `tailwind.config.js` ç­‰)

### ä¸éœ€è¦æ­¸æª”çš„æª”æ¡ˆ
- âŒ `node_modules/` ç›®éŒ„
- âŒ `dist/` ç›®éŒ„
- âŒ `.git/` ç›®éŒ„
- âŒ è‡¨æ™‚æª”æ¡ˆå’Œå¿«å–

---

## ğŸš¨ å¸¸è¦‹éŒ¯èª¤

### éŒ¯èª¤ 1ï¼šç‰ˆæœ¬è™Ÿä¸ä¸€è‡´
```javascript
// âŒ éŒ¯èª¤ï¼šç‰ˆæœ¬è™Ÿä¸ä¸€è‡´
package.json: "1.0.2.0147"
version.ts: PATCH: 146  // å¿˜è¨˜æ›´æ–°
changelog.ts: "1.0.2.0146"  // æ²’æœ‰æ–°è¨˜éŒ„
```

**ä¿®å¾©**ï¼š
```bash
npm run check:version  # æ‰¾å‡ºä¸ä¸€è‡´çš„åœ°æ–¹
# æ‰‹å‹•åŒæ­¥ä¸‰å€‹æª”æ¡ˆ
```

### éŒ¯èª¤ 2ï¼šæœªæ­¸æª”å°±ä¸Šå‚³
```bash
# âŒ éŒ¯èª¤ï¼šç›´æ¥ä¸Šå‚³åˆ° GitHub
git push origin main

# âœ… æ­£ç¢ºï¼šå…ˆæ­¸æª”å†ä¸Šå‚³
mkdir github-releases/github-release-v1.0.2.XXXX
robocopy . github-releases/github-release-v1.0.2.XXXX /E /XD node_modules dist .git
git push origin main
```

### éŒ¯èª¤ 3ï¼šå¿˜è¨˜é‡æ–°å»ºç½®
```bash
# âŒ éŒ¯èª¤ï¼šæ›´æ–°ç‰ˆæœ¬è™Ÿå¾Œæ²’æœ‰å»ºç½®
# ä¿®æ”¹ package.json
# ç›´æ¥æäº¤

# âœ… æ­£ç¢ºï¼šæ›´æ–°å¾Œé‡æ–°å»ºç½®
npm run build
git add .
git commit -m "æ›´æ–°ç‰ˆæœ¬è™Ÿ - v1.0.2.0147"
```

---

## ğŸ’¡ æœ€ä½³å¯¦è¸

### ç‰ˆæœ¬è™Ÿç®¡ç†åŸå‰‡
1. **åŠŸèƒ½ä¿®æ”¹å¿…é ˆé€²ç‰ˆ**ï¼šä»»ä½•åŠŸèƒ½è®Šæ›´éƒ½è¦æ›´æ–°ç‰ˆæœ¬è™Ÿ
2. **å¤šè™•åŒæ­¥æ›´æ–°**ï¼šä¸èƒ½åªæ”¹ä¸€å€‹åœ°æ–¹
3. **è¨˜éŒ„è®Šæ›´å…§å®¹**ï¼šchangelog å¿…é ˆè©³ç´°è¨˜éŒ„
4. **æ ¼å¼åš´æ ¼éµå¾ª**ï¼šç‰ˆæœ¬è™Ÿæ ¼å¼ä¸èƒ½éŒ¯èª¤

### æ­¸æª”ç®¡ç†åŸå‰‡
1. **ä¸Šå‚³å‰å¿…é ˆæ­¸æª”**ï¼šæ¯å€‹ä¸Šå‚³åˆ° GitHub çš„ç‰ˆæœ¬éƒ½è¦æ­¸æª”
2. **ä¿ç•™é‡è¦ç‰ˆæœ¬**ï¼šæ‰€æœ‰ç™¼å¸ƒç‰ˆæœ¬éƒ½è¦å®Œæ•´ä¿å­˜
3. **å®šæœŸæª¢æŸ¥**ï¼šç¢ºä¿æ­·å²ç‰ˆæœ¬å®Œæ•´æ€§
4. **æ¸…ç†èˆŠç‰ˆæœ¬**ï¼šä¿ç•™é‡è¦é‡Œç¨‹ç¢‘ï¼Œæ¸…ç†éèˆŠçš„é–‹ç™¼ç‰ˆæœ¬

### é–‹ç™¼æµç¨‹æ•´åˆ
```
é–‹ç™¼å®Œæˆ 
  â†’ æ›´æ–°ç‰ˆæœ¬è™Ÿï¼ˆä¸‰å€‹æª”æ¡ˆï¼‰
  â†’ åŸ·è¡Œ npm run check:version
  â†’ åŸ·è¡Œ npm run build
  â†’ æ¸¬è©¦
  â†’ å‰µå»ºç‰ˆæœ¬æ­¸æª”
  â†’ æäº¤åˆ° GitHub
```

---

## ğŸ¯ è‡ªå‹•åŒ–æª¢æŸ¥

### ç‰ˆæœ¬è™Ÿä¸€è‡´æ€§æª¢æŸ¥
```bash
npm run check:version
```

**æª¢æŸ¥å…§å®¹**ï¼š
- package.json çš„ version
- src/constants/version.ts çš„ PATCH
- src/constants/changelog.ts çš„æœ€æ–° version
- ç¢ºä¿ä¸‰è€…å®Œå…¨ä¸€è‡´

---

**è¨˜ä½ï¼šç‰ˆæœ¬è™Ÿä¸ä¸€è‡´æœƒå°è‡´æ··äº‚å’ŒéŒ¯èª¤ï¼æ¯æ¬¡ä¿®æ”¹åŠŸèƒ½éƒ½å¿…é ˆåŒæ­¥æ›´æ–°æ‰€æœ‰ç›¸é—œæª”æ¡ˆçš„ç‰ˆæœ¬è™Ÿï¼æ¯å€‹ä¸Šå‚³åˆ° GitHub çš„ç‰ˆæœ¬éƒ½æ˜¯é‡è¦çš„é‡Œç¨‹ç¢‘ï¼Œå¿…é ˆå®Œæ•´ä¿å­˜ï¼**
