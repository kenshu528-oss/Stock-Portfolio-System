# 債券 ETF 股息資料來源評估報告

## 🎯 評估目標
尋找可靠的債券 ETF 股息資料來源，替代 FinMind API 的不完整資料。

## 📊 測試案例
- **00687B** (國泰20年美債)：季配息，2023-2025 年應有多筆記錄
- **00679B** (元大美債20年)：月配息

---

## 1️⃣ FinMind API

### 測試結果
```javascript
GET https://api.finmindtrade.com/api/v4/data?dataset=TaiwanStockDividend&data_id=00687B&start_date=2015-01-01&end_date=2026-12-31
```

**結果**: ❌ **嚴重不完整**
- 只有 1 筆資料：2021-01-19, 現金股利 0.19
- 缺少 2023-2025 年所有季配息記錄（應有 8+ 筆）

### 評分
- 資料完整性: ⭐ (1/5)
- 資料準確性: ⭐⭐⭐⭐ (4/5) - 有的資料是準確的
- 穩定性: ⭐⭐⭐⭐⭐ (5/5)
- 易用性: ⭐⭐⭐⭐ (4/5)
- **總評**: ❌ 不推薦（資料太不完整）

---

## 2️⃣ 證交所 OpenAPI

### 測試結果
```javascript
GET https://openapi.twse.com.tw/v1/exchangeReport/TWT48U_ALL
```

**結果**: ❌ **無債券 ETF 資料**
- 只有 44 筆記錄
- 主要是股票 ETF 和一般股票
- 完全沒有債券 ETF (代碼結尾為 B)

### 評分
- 資料完整性: ⭐ (1/5) - 無債券 ETF
- 資料準確性: N/A
- 穩定性: ⭐⭐⭐⭐⭐ (5/5)
- 易用性: ⭐⭐⭐⭐ (4/5)
- **總評**: ❌ 不適用（無相關資料）

---

## 3️⃣ GoodInfo 網站

### 資料來源
```
https://goodinfo.tw/tw/StockDividendPolicy.asp?STOCK_ID=00687B
```

### 測試結果
**結果**: ✅ **資料完整**
- 00687B: 有完整的季配息記錄（2023-2025）
- 資料格式清楚，包含除息日、現金股利等

### 實作方式
```javascript
// 方式 1: 網頁爬蟲 (不推薦)
const response = await fetch(`https://goodinfo.tw/tw/StockDividendPolicy.asp?STOCK_ID=${symbol}`);
const html = await response.text();
// 解析 HTML...

// 方式 2: 使用後端代理 + 爬蟲
// backend/services/goodInfoService.js
```

### 評分
- 資料完整性: ⭐⭐⭐⭐⭐ (5/5)
- 資料準確性: ⭐⭐⭐⭐⭐ (5/5)
- 穩定性: ⭐⭐ (2/5) - 網頁結構可能變更
- 易用性: ⭐⭐ (2/5) - 需要爬蟲
- **總評**: ⚠️ 可用但有風險（可能違反使用條款）

---

## 4️⃣ Yahoo Finance API

### 測試結果
```javascript
// 測試 00687B 股價
GET https://query1.finance.yahoo.com/v8/finance/chart/00687B.TW
結果: ❌ "No data found, symbol may be delisted"

// 測試 00687B 股息
GET https://query1.finance.yahoo.com/v7/finance/options/00687B.TWO
結果: ❌ "Invalid Crumb" (需要認證)
```

**結果**: ❌ **無法取得台灣債券 ETF 資料**

### 評分
- 資料完整性: ⭐ (1/5) - 無台灣債券 ETF
- 資料準確性: N/A
- 穩定性: ⭐⭐⭐⭐ (4/5)
- 易用性: ⭐⭐⭐ (3/5)
- **總評**: ❌ 不適用（無相關資料）

---

## 5️⃣ 證交所公開資訊觀測站 (MOPS)

### 資料來源
```
https://mops.twse.com.tw/
```

### 測試結果
**結果**: ⚠️ **需要進一步研究**
- 網站有完整的公司公告資料
- 需要 POST 請求和特定參數
- 可能需要處理驗證碼

### 實作難度
- 需要研究 API 端點和參數
- 可能需要處理 Session 和 Cookie
- 資料格式可能複雜

### 評分
- 資料完整性: ⭐⭐⭐⭐⭐ (5/5) - 官方資料
- 資料準確性: ⭐⭐⭐⭐⭐ (5/5) - 官方資料
- 穩定性: ⭐⭐⭐⭐ (4/5)
- 易用性: ⭐⭐ (2/5) - 實作複雜
- **總評**: ⚠️ 可行但需要大量開發工作

---

## 6️⃣ 投信投顧公會

### 資料來源
```
https://www.sitca.org.tw/
```

### 特點
- 官方 ETF 資訊平台
- 有完整的 ETF 配息資料
- 可能有 API 或可爬取的資料

### 評估
**需要進一步研究**：
- 是否有公開 API
- 網頁結構是否適合爬蟲
- 資料更新頻率

### 評分
- 資料完整性: ⭐⭐⭐⭐⭐ (5/5) - 預期
- 資料準確性: ⭐⭐⭐⭐⭐ (5/5) - 官方資料
- 穩定性: ⭐⭐⭐⭐ (4/5) - 預期
- 易用性: ⭐⭐⭐ (3/5) - 待確認
- **總評**: ⚠️ 有潛力，需要研究

---

## 7️⃣ 各基金公司官網

### 資料來源
- 元大投信：https://www.yuantaetfs.com/
- 國泰投信：https://www.cathaysite.com.tw/
- 富邦投信：https://www.fubon.com/etf/

### 特點
- 最準確的第一手資料
- 每家公司格式不同
- 需要針對每家公司開發

### 評估
**實作複雜度高**：
- 需要為每家公司寫不同的爬蟲
- 維護成本高
- 不適合作為通用方案

### 評分
- 資料完整性: ⭐⭐⭐⭐⭐ (5/5)
- 資料準確性: ⭐⭐⭐⭐⭐ (5/5)
- 穩定性: ⭐⭐⭐ (3/5) - 各家不同
- 易用性: ⭐ (1/5) - 實作複雜
- **總評**: ❌ 不推薦（維護成本太高）

---

## 8️⃣ 手動輸入

### 實作方式
```javascript
// 用戶手動輸入股息資料
const manualDividend = {
  exDate: '2025-12-17',
  cashDividend: 0.28,
  source: 'manual'
};
```

### 特點
- 最可靠
- 用戶完全控制
- 符合 api-data-integrity.md 規範

### 評分
- 資料完整性: ⭐⭐⭐⭐⭐ (5/5) - 用戶決定
- 資料準確性: ⭐⭐⭐⭐⭐ (5/5) - 用戶負責
- 穩定性: ⭐⭐⭐⭐⭐ (5/5)
- 易用性: ⭐⭐⭐ (3/5) - 需要手動操作
- **總評**: ✅ **推薦**（最可靠的方案）

---

## 📊 綜合評估

### 評分總表

| 資料來源 | 完整性 | 準確性 | 穩定性 | 易用性 | 總評 |
|---------|--------|--------|--------|--------|------|
| FinMind API | ⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ❌ 不推薦 |
| 證交所 OpenAPI | ⭐ | N/A | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ❌ 不適用 |
| GoodInfo | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐ | ⭐⭐ | ⚠️ 有風險 |
| Yahoo Finance | ⭐ | N/A | ⭐⭐⭐⭐ | ⭐⭐⭐ | ❌ 不適用 |
| MOPS | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐ | ⚠️ 需開發 |
| 投信投顧公會 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐ | ⚠️ 需研究 |
| 基金公司官網 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐ | ❌ 成本高 |
| **手動輸入** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ✅ **推薦** |

---

## 🎯 最終建議

### 短期方案（立即可用）
**✅ 手動輸入為主**
```
優點：
- 最可靠、最準確
- 符合 api-data-integrity.md 規範
- 無技術風險
- 用戶完全控制

缺點：
- 需要用戶手動操作
- 無法自動更新

實作：
- 提供友好的手動輸入介面
- 支援批量匯入（CSV/Excel）
- 提供常見債券 ETF 的配息日期提醒
```

### 中期方案（需要開發）
**⚠️ 投信投顧公會 API 研究**
```
步驟：
1. 研究投信投顧公會網站結構
2. 確認是否有公開 API
3. 評估爬蟲可行性
4. 開發資料擷取服務

預期時間：1-2 週
風險：中等
```

### 長期方案（不推薦）
**❌ GoodInfo 爬蟲**
```
原因：
- 可能違反使用條款
- 穩定性差
- 維護成本高
- 不符合專業開發規範
```

---

## 📋 實作建議

### 1. 優化手動輸入體驗
```javascript
// 提供智能輸入輔助
const dividendInputHelper = {
  // 自動計算除息日期（季配息 ETF）
  suggestNextExDate: (lastExDate) => {
    // 加 3 個月
    return addMonths(lastExDate, 3);
  },
  
  // 提供歷史平均股息參考
  showHistoricalAverage: (symbol) => {
    // 顯示過去 4 季平均
  },
  
  // 批量匯入支援
  importFromCSV: (file) => {
    // 解析 CSV 並驗證
  }
};
```

### 2. 提供資料來源連結
```javascript
// 在 UI 中提供官方資料來源連結
const dataSourceLinks = {
  '00687B': 'https://www.cathaysite.com.tw/fund/00687B',
  '00679B': 'https://www.yuantaetfs.com/product/00679B'
};
```

### 3. 建立社群資料分享機制
```javascript
// 允許用戶分享和訂閱債券 ETF 股息資料
const communityData = {
  // 用戶可以分享自己的股息記錄
  // 其他用戶可以訂閱和使用
  // 類似 GitHub Gist 的概念
};
```

---

## 🔗 相關資源

- **GoodInfo**: https://goodinfo.tw/
- **證交所公開資訊觀測站**: https://mops.twse.com.tw/
- **投信投顧公會**: https://www.sitca.org.tw/
- **元大投信**: https://www.yuantaetfs.com/
- **國泰投信**: https://www.cathaysite.com.tw/

---

**評估日期**: 2026-01-14  
**評估者**: Kiro AI  
**狀態**: 已完成  
**結論**: 推薦使用手動輸入作為主要方案，中期可研究投信投顧公會 API
