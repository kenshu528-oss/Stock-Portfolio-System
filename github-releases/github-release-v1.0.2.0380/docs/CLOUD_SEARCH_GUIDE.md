# é›²ç«¯ç’°å¢ƒå€‹è‚¡æœå°‹åŠŸèƒ½èªªæ˜Ž

## ðŸŒ é›²ç«¯æœå°‹æž¶æ§‹

### ç’°å¢ƒæª¢æ¸¬
ç³»çµ±æœƒè‡ªå‹•æª¢æ¸¬ç•¶å‰é‹è¡Œç’°å¢ƒï¼š
- **æœ¬æ©Ÿç’°å¢ƒ**ï¼š`localhost` æˆ– `127.0.0.1`
- **é›²ç«¯ç’°å¢ƒ**ï¼šGitHub Pages (`github.io` æˆ– `github.com`)

### æœå°‹ç­–ç•¥å·®ç•°

#### æœ¬æ©Ÿç’°å¢ƒï¼ˆæœ‰å¾Œç«¯ï¼‰
```
ç”¨æˆ¶è¼¸å…¥ â†’ å¾Œç«¯ API â†’ FinMind API â†’ è¿”å›žçµæžœ
```

#### é›²ç«¯ç’°å¢ƒï¼ˆç„¡å¾Œç«¯ï¼‰
```
ç”¨æˆ¶è¼¸å…¥ â†’ å‰ç«¯ç›´æŽ¥æœå°‹ â†’ å¤šé‡ API èª¿ç”¨ â†’ è¿”å›žçµæžœ
```

## ðŸ“Š é›²ç«¯æœå°‹è³‡æ–™ä¾†æº

### 1. è‚¡ç¥¨æ¸…å–®è³‡æ–™
- **æª”æ¡ˆä½ç½®**ï¼š`./stock_list.json`ï¼ˆæ ¹ç›®éŒ„ï¼‰
- **è³‡æ–™ä¾†æº**ï¼šFinMind API çš„ TaiwanStockInfo è³‡æ–™é›†
- **æ›´æ–°æ©Ÿåˆ¶**ï¼šGitHub Actions æ¯æ—¥è‡ªå‹•æ›´æ–°
- **è‚¡ç¥¨æ•¸é‡**ï¼šç´„ 4050 æ”¯å°è‚¡

### 2. å³æ™‚è‚¡åƒ¹è³‡æ–™
æŒ‰ç…§ API å„ªå…ˆé †åºç­–ç•¥ï¼š

#### ä¸€èˆ¬è‚¡ç¥¨
```
1. Yahoo Finance APIï¼ˆé¦–é¸ï¼‰
   â†“ å¤±æ•—
2. FinMind APIï¼ˆå‚™ç”¨ï¼‰
   â†“ å¤±æ•—  
3. è¿”å›žåŸºæœ¬è³‡è¨Šï¼ˆç„¡è‚¡åƒ¹ï¼‰
```

#### å‚µåˆ¸ ETFï¼ˆå¦‚ 00679Bï¼‰
```
1. Yahoo Finance APIï¼ˆé¦–é¸ï¼‰- é…æ¯è³‡æ–™æœ€å®Œæ•´
   â†“ å¤±æ•—
2. FinMind APIï¼ˆå‚™ç”¨ï¼‰
   â†“ å¤±æ•—
3. è¿”å›žåŸºæœ¬è³‡è¨Šï¼ˆç„¡è‚¡åƒ¹ï¼‰
```

## ðŸ” æœå°‹é‚è¼¯è©³è§£

### æœå°‹åŒ¹é…å„ªå…ˆç´š
1. **ç²¾ç¢ºåŒ¹é…**ï¼šè‚¡ç¥¨ä»£ç¢¼å®Œå…¨ç›¸ç¬¦ï¼ˆæœ€é«˜å„ªå…ˆç´šï¼‰
2. **é–‹é ­åŒ¹é…**ï¼šè‚¡ç¥¨ä»£ç¢¼ä»¥æŸ¥è©¢å­—ä¸²é–‹é ­
3. **åç¨±åŒ…å«**ï¼šä¸­æ–‡åç¨±åŒ…å«æŸ¥è©¢å­—ä¸²
4. **ä»£ç¢¼åŒ…å«**ï¼šè‚¡ç¥¨ä»£ç¢¼åŒ…å«æŸ¥è©¢å­—ä¸²ï¼ˆæŸ¥è©¢é•·åº¦ â‰¥ 3ï¼‰

### æœå°‹ç¯„ä¾‹

#### æœå°‹ "2330"
```
1. ç²¾ç¢ºåŒ¹é…ï¼š2330 â†’ å°ç©é›» âœ…
2. é–‹é ­åŒ¹é…ï¼š2330X ç³»åˆ—è‚¡ç¥¨
3. åç¨±åŒ¹é…ï¼šç„¡
4. ä»£ç¢¼åŒ…å«ï¼šç„¡
```

#### æœå°‹ "å°ç©"
```
1. ç²¾ç¢ºåŒ¹é…ï¼šç„¡
2. é–‹é ­åŒ¹é…ï¼šç„¡  
3. åç¨±åŒ¹é…ï¼šå°ç©é›» (2330) âœ…
4. ä»£ç¢¼åŒ…å«ï¼šç„¡
```

## ðŸ’° è‚¡åƒ¹ç²å–æ©Ÿåˆ¶

### Yahoo Finance API èª¿ç”¨
```typescript
// æ™ºèƒ½å¾Œç¶´åˆ¤æ–·
const getCorrectSymbol = (symbol) => {
  const code = parseInt(symbol.substring(0, 4));
  const isBondETF = /^00\d{2,3}B$/i.test(symbol);
  
  if (isBondETF) {
    return `${symbol}.TWO`; // å‚µåˆ¸ ETF å„ªå…ˆæ«ƒè²·ä¸­å¿ƒ
  } else if (code >= 3000 && code <= 8999) {
    return `${symbol}.TWO`; // ä¸Šæ«ƒè‚¡ç¥¨å„ªå…ˆæ«ƒè²·ä¸­å¿ƒ
  } else {
    return `${symbol}.TW`;  // ä¸Šå¸‚è‚¡ç¥¨å„ªå…ˆè­‰äº¤æ‰€
  }
};
```

### CORS ä»£ç†æœå‹™
ç”±æ–¼ç€è¦½å™¨ CORS é™åˆ¶ï¼Œä½¿ç”¨å¤šå€‹ä»£ç†æœå‹™ï¼š
1. `api.allorigins.win`
2. `cors-anywhere.herokuapp.com`
3. `api.codetabs.com`

### è¶…æ™‚èˆ‡éŒ¯èª¤è™•ç†
- **Yahoo Finance**ï¼š3ç§’è¶…æ™‚ï¼Œå¿«é€Ÿå¤±æ•—
- **FinMind**ï¼š8ç§’è¶…æ™‚ï¼Œè©³ç´°éŒ¯èª¤è™•ç†
- **404 éŒ¯èª¤**ï¼šä¸è¼¸å‡ºè­¦å‘Šï¼ˆæ­£å¸¸æƒ…æ³ï¼‰

## ðŸš€ æ€§èƒ½å„ªåŒ–

### æœå°‹å»¶é²
- **çŸ­æŸ¥è©¢**ï¼ˆ< 5å­—ç¬¦ï¼‰ï¼š300ms å»¶é²
- **é•·æŸ¥è©¢**ï¼ˆâ‰¥ 5å­—ç¬¦ï¼‰ï¼š200ms å»¶é²

### çµæžœé™åˆ¶
- **æœ€å¤§çµæžœæ•¸**ï¼š10 ç­†
- **åŽ»é‡æ©Ÿåˆ¶**ï¼šç¢ºä¿æ¯å€‹è‚¡ç¥¨ä»£ç¢¼åªå‡ºç¾ä¸€æ¬¡

### å¿«å–æ©Ÿåˆ¶
- **æœå°‹çµæžœ**ï¼šæš«å­˜æ–¼çµ„ä»¶ç‹€æ…‹
- **è‚¡ç¥¨æ¸…å–®**ï¼šè¼‰å…¥ä¸€æ¬¡å¾Œä¿å­˜åœ¨è¨˜æ†¶é«”

## ðŸ”§ æ•…éšœæŽ’é™¤

### å¸¸è¦‹å•é¡Œ

#### 1. æœå°‹ç„¡çµæžœ
**å¯èƒ½åŽŸå› **ï¼š
- è‚¡ç¥¨ä»£ç¢¼è¼¸å…¥éŒ¯èª¤
- è‚¡ç¥¨å·²ä¸‹å¸‚æˆ–æš«åœäº¤æ˜“
- API æœå‹™æš«æ™‚ä¸å¯ç”¨

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
- æª¢æŸ¥è‚¡ç¥¨ä»£ç¢¼æ‹¼å¯«
- å˜—è©¦ä½¿ç”¨ä¸­æ–‡åç¨±æœå°‹
- ç¨å¾Œé‡è©¦

#### 2. è‚¡åƒ¹é¡¯ç¤ºç‚º 0
**å¯èƒ½åŽŸå› **ï¼š
- Yahoo Finance API å¤±æ•—
- FinMind API é™åˆ¶ï¼ˆéœ€ä»˜è²»ï¼‰
- ç¶²è·¯é€£ç·šå•é¡Œ

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
- è‚¡åƒ¹ç‚º 0 ä¸å½±éŸ¿æ·»åŠ è‚¡ç¥¨åŠŸèƒ½
- æ·»åŠ å¾Œå¯åœ¨ä¸»é é¢æ‰‹å‹•æ›´æ–°è‚¡åƒ¹

#### 3. æœå°‹é€Ÿåº¦æ…¢
**å¯èƒ½åŽŸå› **ï¼š
- CORS ä»£ç†æœå‹™å›žæ‡‰æ…¢
- ç¶²è·¯é€£ç·šä¸ç©©å®š
- API æœå‹™è² è¼‰é«˜

**è§£æ±ºæ–¹æ¡ˆ**ï¼š
- ç³»çµ±æœƒè‡ªå‹•å˜—è©¦å¤šå€‹ä»£ç†æœå‹™
- è€å¿ƒç­‰å¾…æˆ–é‡æ–°æœå°‹

## ðŸ“‹ æŠ€è¡“å¯¦ä½œç´°ç¯€

### ç’°å¢ƒæª¢æ¸¬ä»£ç¢¼
```typescript
const isGitHubPages = window.location.hostname.includes('github.io') || 
                     window.location.hostname.includes('github.com');
```

### è‚¡ç¥¨æ¸…å–®è¼‰å…¥
```typescript
const stockListResponse = await fetch('./stock_list.json');
const stockListData = await stockListResponse.json();
```

### æ™ºèƒ½æœå°‹é‚è¼¯
```typescript
// ç²¾ç¢ºåŒ¹é…å„ªå…ˆ
if (symbolUpper === queryUpper) return true;

// é–‹é ­åŒ¹é…æ¬¡ä¹‹
if (symbolUpper.startsWith(queryUpper)) return true;

// åç¨±åŒ…å«å†æ¬¡
if (nameLower.includes(queryLower)) return true;
```

## ðŸŽ¯ æœªä¾†æ”¹é€²æ–¹å‘

### çŸ­æœŸæ”¹é€²
- [ ] æ·»åŠ æœå°‹æ­·å²è¨˜éŒ„
- [ ] å„ªåŒ– CORS ä»£ç†æœå‹™é¸æ“‡
- [ ] å¢žåŠ æ›´å¤šè‚¡åƒ¹è³‡æ–™ä¾†æº

### é•·æœŸæ”¹é€²
- [ ] å¯¦ä½œæœ¬åœ°å¿«å–æ©Ÿåˆ¶
- [ ] æ·»åŠ è‚¡ç¥¨åˆ†é¡žç¯©é¸
- [ ] æ”¯æ´ç¾Žè‚¡æœå°‹åŠŸèƒ½

---

**ç¸½çµ**ï¼šé›²ç«¯ç’°å¢ƒä¸‹çš„å€‹è‚¡æœå°‹åŠŸèƒ½å®Œå…¨åœ¨å‰ç«¯é‹è¡Œï¼Œä¸ä¾è³´å¾Œç«¯æœå‹™ã€‚é€šéŽæœ¬åœ°è‚¡ç¥¨æ¸…å–®å’Œå¤šé‡ API èª¿ç”¨ï¼Œæä¾›å®Œæ•´çš„æœå°‹å’Œè‚¡åƒ¹ç²å–åŠŸèƒ½ã€‚