<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç›´æ¥ UI ä¿®å¾©æ¸¬è©¦</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 20px; 
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .test-section { 
            margin: 20px 0; 
            padding: 15px; 
            border: 1px solid #ddd; 
            border-radius: 4px;
        }
        .success { color: #28a745; font-weight: bold; }
        .error { color: #dc3545; font-weight: bold; }
        .info { color: #007bff; font-weight: bold; }
        .warning { color: #ffc107; font-weight: bold; }
        pre { 
            background: #f8f9fa; 
            padding: 10px; 
            overflow-x: auto; 
            border-radius: 4px;
            border: 1px solid #e9ecef;
            font-size: 12px;
            max-height: 300px;
        }
        button { 
            padding: 10px 20px; 
            margin: 5px; 
            cursor: pointer; 
            border: none;
            border-radius: 4px;
            background: #007bff;
            color: white;
            font-size: 14px;
        }
        button:hover { background: #0056b3; }
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
        }
        .status.success { background: #d4edda; border: 1px solid #c3e6cb; }
        .status.error { background: #f8d7da; border: 1px solid #f5c6cb; }
        .status.info { background: #d1ecf1; border: 1px solid #bee5eb; }
        .highlight {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 15px;
            border-radius: 4px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”§ ç›´æ¥ UI ä¿®å¾©æ¸¬è©¦</h1>
        
        <div class="highlight">
            <h3>ğŸ¯ æœ€å¾Œçš„è§£æ±ºæ–¹æ¡ˆ</h3>
            <p><strong>å•é¡Œ</strong>ï¼šæ‰¹é‡æ›´æ–°æˆåŠŸï¼Œç‹€æ…‹æ›´æ–°æˆåŠŸï¼Œä½† React UI ä¸é‡æ–°æ¸²æŸ“</p>
            <p><strong>è§£æ±º</strong>ï¼šç›´æ¥åœ¨ç€è¦½å™¨ Console ä¸­åŸ·è¡Œå¼·åˆ¶é‡æ–°æ¸²æŸ“å‘½ä»¤</p>
        </div>
        
        <div class="test-section">
            <h2>ğŸš¨ ç·Šæ€¥ä¿®å¾©æŒ‡ä»¤</h2>
            <div class="status error">
                <h4>è«‹åœ¨ä¸»æ‡‰ç”¨çš„ Console ä¸­åŸ·è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</h4>
                <pre id="fix-commands">// 1. æª¢æŸ¥ç•¶å‰ç‹€æ…‹
console.log('ç•¶å‰è‚¡ç¥¨ç‹€æ…‹:', window.debugAppStore.getState().stocks.slice(0, 3));

// 2. å¼·åˆ¶è§¸ç™¼é‡æ–°æ¸²æŸ“
window.debugAppStore.setState({
  lastPriceUpdate: new Date(),
  forceRender: Math.random(),
  // å¼·åˆ¶å‰µå»ºæ–°çš„ stocks é™£åˆ—å¼•ç”¨
  stocks: [...window.debugAppStore.getState().stocks]
});

// 3. å¦‚æœé‚„æ˜¯ä¸è¡Œï¼Œå˜—è©¦é é¢é‡æ–°è¼‰å…¥
// window.location.reload();</pre>
            </div>
        </div>
        
        <div class="test-section">
            <h2>ğŸ” è¨ºæ–·æ­¥é©Ÿ</h2>
            <div class="status info">
                <h4>è«‹æŒ‰é †åºåŸ·è¡Œä»¥ä¸‹è¨ºæ–·ï¼š</h4>
                <ol>
                    <li><strong>é–‹å•Ÿä¸»æ‡‰ç”¨</strong>ï¼š<a href="http://localhost:5173" target="_blank">http://localhost:5173</a></li>
                    <li><strong>é–‹å•Ÿ Console</strong>ï¼šæŒ‰ F12 â†’ Console æ¨™ç±¤</li>
                    <li><strong>æª¢æŸ¥ç‹€æ…‹</strong>ï¼šåŸ·è¡Œä¸Šé¢çš„å‘½ä»¤ 1</li>
                    <li><strong>å¼·åˆ¶é‡æ–°æ¸²æŸ“</strong>ï¼šåŸ·è¡Œä¸Šé¢çš„å‘½ä»¤ 2</li>
                    <li><strong>è§€å¯Ÿ UI è®ŠåŒ–</strong>ï¼šæª¢æŸ¥è‚¡åƒ¹æ˜¯å¦æ›´æ–°</li>
                    <li><strong>å¦‚æœé‚„æ˜¯ä¸è¡Œ</strong>ï¼šåŸ·è¡Œå‘½ä»¤ 3 é‡æ–°è¼‰å…¥é é¢</li>
                </ol>
            </div>
        </div>
        
        <div class="test-section">
            <h2>ğŸ”§ æ·±åº¦è¨ºæ–·å‘½ä»¤</h2>
            <div class="status warning">
                <h4>å¦‚æœä¸Šé¢çš„å‘½ä»¤ä¸èµ·ä½œç”¨ï¼Œè«‹å˜—è©¦ï¼š</h4>
                <pre>// æª¢æŸ¥ React æ˜¯å¦æ­£ç¢ºè¨‚é–±ç‹€æ…‹è®ŠåŒ–
const state = window.debugAppStore.getState();
console.log('è‚¡ç¥¨æ•¸é‡:', state.stocks.length);
console.log('æœ€å¾Œæ›´æ–°:', state.lastPriceUpdate);
console.log('å¼·åˆ¶æ¸²æŸ“æ¨™è¨˜:', state.forceRender);

// å˜—è©¦æ›´æ¿€é€²çš„ç‹€æ…‹æ›´æ–°
window.debugAppStore.setState((prevState) => ({
  ...prevState,
  stocks: prevState.stocks.map(stock => ({ ...stock })), // æ·±æ‹·è²æ¯å€‹è‚¡ç¥¨
  lastPriceUpdate: new Date(),
  forceRender: Date.now(),
  // æ·»åŠ ä¸€å€‹æ–°çš„éš¨æ©Ÿå­—æ®µ
  _forceUpdate: Math.random()
}));

// æª¢æŸ¥æ˜¯å¦æœ‰ React DevTools
console.log('React DevTools:', typeof window.__REACT_DEVTOOLS_GLOBAL_HOOK__);

// æœ€å¾Œæ‰‹æ®µï¼šå®Œå…¨é‡æ–°è¼‰å…¥
setTimeout(() => {
  console.log('å¦‚æœ UI é‚„æ˜¯æ²’æœ‰æ›´æ–°ï¼Œå°‡åœ¨ 3 ç§’å¾Œé‡æ–°è¼‰å…¥é é¢...');
  setTimeout(() => window.location.reload(), 3000);
}, 2000);</pre>
            </div>
        </div>
        
        <div class="test-section">
            <h2>ğŸ“Š å•é¡Œåˆ†æ</h2>
            <div class="status info">
                <h4>å¯èƒ½çš„åŸå› ï¼š</h4>
                <ul>
                    <li><strong>React è¨˜æ†¶åŒ–å•é¡Œ</strong>ï¼šçµ„ä»¶è¢« React.memo æˆ– useMemo è¨˜æ†¶åŒ–ï¼Œæ²’æœ‰æª¢æ¸¬åˆ°ç‹€æ…‹è®ŠåŒ–</li>
                    <li><strong>Zustand è¨‚é–±å•é¡Œ</strong>ï¼šuseAppStore hook æ²’æœ‰æ­£ç¢ºè¨‚é–±ç‹€æ…‹è®ŠåŒ–</li>
                    <li><strong>React æ‰¹æ¬¡æ›´æ–°</strong>ï¼šReact 18 çš„è‡ªå‹•æ‰¹æ¬¡æ›´æ–°å¯èƒ½å»¶é²äº†é‡æ–°æ¸²æŸ“</li>
                    <li><strong>é–‹ç™¼æ¨¡å¼å•é¡Œ</strong>ï¼šVite çš„ç†±é‡è¼‰å¯èƒ½å¹²æ“¾äº†ç‹€æ…‹æ›´æ–°</li>
                </ul>
            </div>
        </div>
        
        <div class="test-section">
            <h2>âœ… æœ€çµ‚è§£æ±ºæ–¹æ¡ˆ</h2>
            <div class="status success">
                <h4>å¦‚æœæ‰€æœ‰æ–¹æ³•éƒ½ä¸è¡Œï¼Œè«‹å˜—è©¦ï¼š</h4>
                <ol>
                    <li><strong>ç¡¬é‡æ–°è¼‰å…¥</strong>ï¼šæŒ‰ Ctrl+Shift+R æ¸…é™¤æ‰€æœ‰å¿«å–</li>
                    <li><strong>é‡æ–°å•Ÿå‹•é–‹ç™¼æœå‹™å™¨</strong>ï¼šé—œé–‰ä¸¦é‡æ–°å•Ÿå‹• npm run dev</li>
                    <li><strong>æª¢æŸ¥ç€è¦½å™¨</strong>ï¼šå˜—è©¦ç„¡ç—•æ¨¡å¼æˆ–ä¸åŒç€è¦½å™¨</li>
                    <li><strong>æª¢æŸ¥ React DevTools</strong>ï¼šå®‰è£ React DevTools æª¢æŸ¥çµ„ä»¶ç‹€æ…‹</li>
                </ol>
            </div>
        </div>
        
        <div class="test-section">
            <h2>ğŸ“ å ±å‘Šçµæœ</h2>
            <div class="status info">
                <p>è«‹åŸ·è¡Œä¸Šè¿°å‘½ä»¤å¾Œï¼Œå‘Šè¨´æˆ‘ï¼š</p>
                <ul>
                    <li>å“ªå€‹å‘½ä»¤æœ‰æ•ˆæœï¼Ÿ</li>
                    <li>Console ä¸­æœ‰ä»€éº¼éŒ¯èª¤è¨Šæ¯ï¼Ÿ</li>
                    <li>React DevTools é¡¯ç¤ºä»€éº¼ï¼Ÿ</li>
                    <li>UI æœ€çµ‚æ˜¯å¦æ›´æ–°äº†ï¼Ÿ</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // è‡ªå‹•è¤‡è£½ä¿®å¾©å‘½ä»¤åˆ°å‰ªè²¼æ¿
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                console.log('å‘½ä»¤å·²è¤‡è£½åˆ°å‰ªè²¼æ¿');
            });
        }
        
        window.onload = function() {
            console.log('ğŸ”§ ç›´æ¥ UI ä¿®å¾©æ¸¬è©¦é é¢å·²è¼‰å…¥');
            
            // ç²å–ä¿®å¾©å‘½ä»¤
            const commands = document.getElementById('fix-commands').textContent;
            
            // å˜—è©¦è¤‡è£½åˆ°å‰ªè²¼æ¿
            if (navigator.clipboard) {
                copyToClipboard(commands);
                console.log('âœ… ä¿®å¾©å‘½ä»¤å·²è‡ªå‹•è¤‡è£½åˆ°å‰ªè²¼æ¿');
                console.log('ğŸ“ è«‹åœ¨ä¸»æ‡‰ç”¨ Console ä¸­è²¼ä¸ŠåŸ·è¡Œ');
            }
        };
    </script>
</body>
</html>